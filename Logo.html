<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="Web/win95.css" />
	<link rel="stylesheet" type="text/css" href="Web/Hud.css" />
<style>

	body
	{
		background-color:	#000;
		color:				#ccc;	/* text colour */
	}

	a
	{
		color:	#0ff;
	}


</style>
</head>
<body>
	<div id="Logo">
	</div>
	
	<script src='PopEngineCommon/PopWebApi.js'></script>
	<script src='PopEngineCommon/PopWebOpenglApi.js'></script>
	<script src='PopEngineCommon/PopWebGuiApi.js'></script>
	<script src='PopEngineCommon/PopWebImageApi.js'></script>
	
	<script src='PopEngineCommon/PopShaderCache.js'></script>
	<script src='PopEngineCommon/PopFrameCounter.js'></script>
	<script src='PopEngineCommon/PopMath.js'></script>
	<script src='PopEngineCommon/ParamsWindow.js'></script>
	<script src='PopEngineCommon/PopTexture.js'></script>
	<script src='PopEngineCommon/PopCinema4d.js'></script>
	<script src='PopEngineCommon/PopCollada.js'></script>
	<script src='PopEngineCommon/PopPly.js'></script>
	<script src='PopEngineCommon/PopObj.js'></script>
	<script src='PopEngineCommon/PopSvg.js'></script>

	
	<script>
		
		async function Bootup()
		{
			const AsyncAssetLoads = Pop.GetExeArguments().includes('AsyncAssets');
						
			const PreloadAssets =
			[
				'bootup.js',
				'Logo.js',
				'Actors.js',
				'AssetManager.js',
				'AssetImport.js',
			 	'Hud.js',
			
			 'PopEngineCommon/PopShaderCache.js',
			 'PopEngineCommon/PopFrameCounter.js',
			 'PopEngineCommon/PopMath.js',
			 'PopEngineCommon/ParamsWindow.js',
			 'PopEngineCommon/PopTexture.js',
			 
			 'PopEngineCommon/PopCinema4d.js',
			 'PopEngineCommon/PopCollada.js',
			 'PopEngineCommon/PopPly.js',
			 'PopEngineCommon/PopObj.js',
			 'PopEngineCommon/PopSvg.js',
			 'BlitCopy.frag.glsl',
			 'PhysicsIteration_UpdateVelocity.frag.glsl',
			 'PhysicsIteration_UpdatePosition.frag.glsl',
			 'PhysicsIteration_UpdateVelocityPulse.frag.glsl',
			 'ParticleTriangles.vert.glsl',
			 'Quad.vert.glsl',
			 'Logo/Logo_PhysicsIteration_UpdateVelocity.frag.glsl',
			 'Logo/Logo_PhysicsIteration_UpdatePosition.frag.glsl',
			 'Logo/LogoParticle.frag.glsl',
			 'Logo/LogoParticle.vert.glsl',
			 'Logo/LogoSdf.frag.glsl',
			 'Logo/Logo.svg.json',
			 
			 'Animals.json'
			 //'Logo/Logo.geometry.json'
			];
			
			//	trigger all then wait for them all to finish
			const AssetPromises = [];
			const Load = function(Filename)
			{
				const Promise = Pop.AsyncCacheAssetAsString(Filename);
				AssetPromises.push( Promise );
			}
			PreloadAssets.forEach( Load );
			await Promise.all( AssetPromises );
			
			//	these need to finish for bootup
			let Source = await Pop.LoadFileAsStringAsync('bootup.js');
			Pop.CompileAndRun( Source, 'bootup.js' );
		}

		Bootup().then( e=>Pop.Debug("Finished!",e) ).catch( console.error );
	
	</script>
	
</body>

